<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html  xmlns="http://www.w3.org/1999/xhtml"
       xmlns:ui="http://java.sun.com/jsf/facelets"
       xmlns:h="http://java.sun.com/jsf/html"
       xmlns:p="http://primefaces.org/ui"      
       xmlns:f="http://java.sun.com/jsf/core">
    <h:head>
    </h:head>
    <h:body>     

        <p:dataTable id="dataTable" var="car" value="#{tableBean.cars}"  
                     paginator="true" rows="10" 
                     paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}   Row {RowsPerPageDropdown} Page {JumpToPageDropdown}"  
                     rowsPerPageTemplate="5,10,15">
            <p:column>  
                <f:facet name="header">  
                    <h:outputText value="Model" />  
                </f:facet>  
                <h:outputText value="#{car.model}" />  
            </p:column>  

            <p:column>  
                <f:facet name="header">  
                    <h:outputText value="Year" />  
                </f:facet>  
                <h:outputText value="#{car.year}" />  
            </p:column>  

            <p:column>  
                <f:facet name="header">  
                    <h:outputText value="Manufacturer" />  
                </f:facet>  
                <h:outputText value="#{car.manufacturer}" />  
            </p:column>  

            <p:column>  
                <f:facet name="header">  
                    <h:outputText value="Color" />  
                </f:facet>  
                <h:outputText value="#{car.color}" />  
            </p:column>  
        </p:dataTable>
        
        <p:dialog modal="true" widgetVar="statusDialog" header="Status" draggable="false" closable="false" resizable="false">
            <p:graphicImage value="/design/ajaxloadingbar.gif" />
        </p:dialog>

        <h:form id="form">

            <p:commandButton id="downloadLink" value="Download" ajax="false" onclick="PrimeFaces.monitorDownload(start, stop)" 
                             icon="ui-icon-arrowthichk-s">
                <p:fileDownload value="#{fileDownloadController.file}" />
            </p:commandButton>

        </h:form>

        <script type="text/javascript">
            function start() {
                PF('statusDialog').show();
            }

            function stop() {
                PF('statusDialog').hide();
            }
        </script>

    </h:body>
</html>
